# 2026-01-04 Session 41 (rpi)

## Summary
- Added duty-cycle stance/swing gait with per-leg scaling (rear boost) in hardware + sim CPG.
- Tuned gait to reduce lunge/impact: frequency 0.4 Hz, duty 0.5, stride 0.35, calf lift 0.85.
- Rear legs improved from dragging to skimming but still no clear air time.
- ESP32 handshake failure after calibration firmware resolved by reflashing StreamingControl.

## Key Config (deployment/config/cpg.yaml)
- frequency_hz=0.4, duty_cycle=0.5
- stride_scale=0.35, calf_lift_scale=0.85
- stride_scale_front=1.0, stride_scale_back=1.3
- calf_lift_scale_front=1.0, calf_lift_scale_back=1.15
- SERVO_SPEED/SERVO_ACC unchanged (do not modify).

## Hardware Tests (CPG-only, 10s)
- /home/pi/harold/sessions/session_2026-01-04_01-51-05.csv (post ESP32 reflash)
- /home/pi/harold/sessions/session_2026-01-04_01-52-35.csv
- /home/pi/harold/sessions/session_2026-01-04_02-32-11.csv
- /home/pi/harold/sessions/session_2026-01-04_05-44-24.csv (rear scaling enabled)

## Operational Notes
- Keep `harold` systemd service stopped during manual tests; it restarts gait if active.
- Repo path: /home/pi/Desktop/harold (firmware/scripts)
- Runtime path: /home/pi/harold (controller/config)
- Sync deployment config + inference files to runtime before testing.

## Open Issues / Next Steps
- Rear legs still skimming: try higher rear lift/stride (e.g., calf_lift_scale_back 1.25, stride_scale_back 1.4).
- Consider rear-only weight shift (small thigh offset or shoulder bias) if lift still low.
